{"ast":null,"code":"import { EventEmitter, inject } from \"@angular/core\";\nimport { UserService } from \"../../core/services/user.service\";\nimport { RouterLink } from \"@angular/router\";\nimport { map } from \"rxjs/operators\";\nimport { AsyncPipe, DatePipe, NgIf } from \"@angular/common\";\nimport * as i0 from \"@angular/core\";\nfunction ArticleCommentComponent_div_0_span_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"span\", 9)(1, \"i\", 10);\n    i0.ɵɵlistener(\"click\", function ArticleCommentComponent_div_0_span_13_Template_i_click_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.delete.emit(true));\n    });\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/profile\", a1];\n};\nfunction ArticleCommentComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"p\", 3);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 4)(5, \"a\", 5);\n    i0.ɵɵelement(6, \"img\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \" \\u00A0 \");\n    i0.ɵɵelementStart(8, \"a\", 5);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"span\", 7);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, ArticleCommentComponent_div_0_span_13_Template, 2, 0, \"span\", 8);\n    i0.ɵɵpipe(14, \"async\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.comment.body, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(12, _c0, ctx_r0.comment.author.username));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r0.comment.author.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(14, _c0, ctx_r0.comment.author.username));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.comment.author.username, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(12, 7, ctx_r0.comment.createdAt, \"longDate\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(14, 10, ctx_r0.canModify$));\n  }\n}\nexport class ArticleCommentComponent {\n  constructor() {\n    this.delete = new EventEmitter();\n    this.canModify$ = inject(UserService).currentUser.pipe(map(userData => userData?.username === this.comment.author.username));\n  }\n  static #_ = this.ɵfac = function ArticleCommentComponent_Factory(t) {\n    return new (t || ArticleCommentComponent)();\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ArticleCommentComponent,\n    selectors: [[\"app-article-comment\"]],\n    inputs: {\n      comment: \"comment\"\n    },\n    outputs: {\n      delete: \"delete\"\n    },\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 1,\n    vars: 1,\n    consts: [[\"class\", \"card\", 4, \"ngIf\"], [1, \"card\"], [1, \"card-block\"], [1, \"card-text\"], [1, \"card-footer\"], [1, \"comment-author\", 3, \"routerLink\"], [1, \"comment-author-img\", 3, \"src\"], [1, \"date-posted\"], [\"class\", \"mod-options\", 4, \"ngIf\"], [1, \"mod-options\"], [1, \"ion-trash-a\", 3, \"click\"]],\n    template: function ArticleCommentComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ArticleCommentComponent_div_0_Template, 15, 16, \"div\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.comment);\n      }\n    },\n    dependencies: [RouterLink, DatePipe, NgIf, AsyncPipe],\n    encapsulation: 2\n  });\n}","map":{"version":3,"names":["EventEmitter","inject","UserService","RouterLink","map","AsyncPipe","DatePipe","NgIf","i0","ɵɵelementStart","ɵɵlistener","ArticleCommentComponent_div_0_span_13_Template_i_click_1_listener","ɵɵrestoreView","_r3","ctx_r2","ɵɵnextContext","ɵɵresetView","delete","emit","ɵɵelementEnd","ɵɵtext","ɵɵelement","ɵɵtemplate","ArticleCommentComponent_div_0_span_13_Template","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","comment","body","ɵɵproperty","ɵɵpureFunction1","_c0","author","username","image","ɵɵsanitizeUrl","ɵɵpipeBind2","createdAt","ɵɵpipeBind1","canModify$","ArticleCommentComponent","constructor","currentUser","pipe","userData","_","_2","selectors","inputs","outputs","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","ArticleCommentComponent_Template","rf","ctx","ArticleCommentComponent_div_0_Template","encapsulation"],"sources":["C:\\Users\\javie\\KarateGit\\myproject\\src\\app\\features\\article\\article-comment.component.ts","C:\\Users\\javie\\KarateGit\\myproject\\src\\app\\features\\article\\article-comment.component.html"],"sourcesContent":["import { Component, EventEmitter, Input, Output, inject } from \"@angular/core\";\r\nimport { UserService } from \"../../core/services/user.service\";\r\nimport { User } from \"../../core/models/user.model\";\r\nimport { RouterLink } from \"@angular/router\";\r\nimport { map } from \"rxjs/operators\";\r\nimport { Comment } from \"../../core/models/comment.model\";\r\nimport { AsyncPipe, DatePipe, NgIf } from \"@angular/common\";\r\n\r\n@Component({\r\n  selector: \"app-article-comment\",\r\n  templateUrl: \"./article-comment.component.html\",\r\n  imports: [RouterLink, DatePipe, NgIf, AsyncPipe],\r\n  standalone: true,\r\n})\r\nexport class ArticleCommentComponent {\r\n  @Input() comment!: Comment;\r\n  @Output() delete = new EventEmitter<boolean>();\r\n\r\n  canModify$ = inject(UserService).currentUser.pipe(\r\n    map(\r\n      (userData: User | null) =>\r\n        userData?.username === this.comment.author.username\r\n    )\r\n  );\r\n}\r\n","<div class=\"card\" *ngIf=\"comment\">\r\n  <div class=\"card-block\">\r\n    <p class=\"card-text\">\r\n      {{ comment.body }}\r\n    </p>\r\n  </div>\r\n  <div class=\"card-footer\">\r\n    <a\r\n      class=\"comment-author\"\r\n      [routerLink]=\"['/profile', comment.author.username]\"\r\n    >\r\n      <img [src]=\"comment.author.image\" class=\"comment-author-img\" />\r\n    </a>\r\n    &nbsp;\r\n    <a\r\n      class=\"comment-author\"\r\n      [routerLink]=\"['/profile', comment.author.username]\"\r\n    >\r\n      {{ comment.author.username }}\r\n    </a>\r\n    <span class=\"date-posted\">\r\n      {{ comment.createdAt | date : \"longDate\" }}\r\n    </span>\r\n    <span class=\"mod-options\" *ngIf=\"canModify$ | async\">\r\n      <i class=\"ion-trash-a\" (click)=\"delete.emit(true)\"></i>\r\n    </span>\r\n  </div>\r\n</div>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}