{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/jwt.service\";\nexport class TokenInterceptor {\n  constructor(jwtService) {\n    this.jwtService = jwtService;\n  }\n  intercept(req, next) {\n    const token = this.jwtService.getToken();\n    const request = req.clone({\n      setHeaders: {\n        ...(token ? {\n          Authorization: `Token ${token}`\n        } : {})\n      }\n    });\n    return next.handle(request);\n  }\n  static #_ = this.ɵfac = function TokenInterceptor_Factory(t) {\n    return new (t || TokenInterceptor)(i0.ɵɵinject(i1.JwtService));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: TokenInterceptor,\n    factory: TokenInterceptor.ɵfac,\n    providedIn: \"root\"\n  });\n}","map":{"version":3,"names":["TokenInterceptor","constructor","jwtService","intercept","req","next","token","getToken","request","clone","setHeaders","Authorization","handle","_","i0","ɵɵinject","i1","JwtService","_2","factory","ɵfac","providedIn"],"sources":["C:\\Users\\javie\\KarateGit\\myproject\\src\\app\\core\\interceptors\\token.interceptor.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport {\r\n  HttpEvent,\r\n  HttpInterceptor,\r\n  HttpHandler,\r\n  HttpRequest,\r\n} from \"@angular/common/http\";\r\nimport { Observable } from \"rxjs\";\r\nimport { JwtService } from \"../services/jwt.service\";\r\n\r\n@Injectable({ providedIn: \"root\" })\r\nexport class TokenInterceptor implements HttpInterceptor {\r\n  constructor(private readonly jwtService: JwtService) {}\r\n\r\n  intercept(\r\n    req: HttpRequest<any>,\r\n    next: HttpHandler\r\n  ): Observable<HttpEvent<any>> {\r\n    const token = this.jwtService.getToken();\r\n\r\n    const request = req.clone({\r\n      setHeaders: {\r\n        ...(token ? { Authorization: `Token ${token}` } : {}),\r\n      },\r\n    });\r\n    return next.handle(request);\r\n  }\r\n}\r\n"],"mappings":";;AAWA,OAAM,MAAOA,gBAAgB;EAC3BC,YAA6BC,UAAsB;IAAtB,KAAAA,UAAU,GAAVA,UAAU;EAAe;EAEtDC,SAASA,CACPC,GAAqB,EACrBC,IAAiB;IAEjB,MAAMC,KAAK,GAAG,IAAI,CAACJ,UAAU,CAACK,QAAQ,EAAE;IAExC,MAAMC,OAAO,GAAGJ,GAAG,CAACK,KAAK,CAAC;MACxBC,UAAU,EAAE;QACV,IAAIJ,KAAK,GAAG;UAAEK,aAAa,EAAE,SAASL,KAAK;QAAE,CAAE,GAAG,EAAE;;KAEvD,CAAC;IACF,OAAOD,IAAI,CAACO,MAAM,CAACJ,OAAO,CAAC;EAC7B;EAAC,QAAAK,CAAA,G;qBAfUb,gBAAgB,EAAAc,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;EAAA;EAAA,QAAAC,EAAA,G;WAAhBlB,gBAAgB;IAAAmB,OAAA,EAAhBnB,gBAAgB,CAAAoB,IAAA;IAAAC,UAAA,EADH;EAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}